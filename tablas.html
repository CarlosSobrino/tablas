
<!DOCTYPE html>
<html>
<head>
<title>Page Title</title>
</head>
<body class="body">

	<h1 class="titulo">Generador de Tablas</h1>
	<div class="botones1">
		<button class="btnReset" onclick="reset()">Reiniciar</button>
		<button onclick="location.href='index.html'">Atras</button>

	</div>
	<div class="form">
		<div><p class="fil">Filas</p><input type="number" id="filas"></div>
		<div><p class="colm">Columnas</p><input type="number" id="columnas"></div>
		<br>
	</div>
	<button id="btnRealizar" class="btnRealizar" onclick="genera_tabla()">Realizar</button>
	<br>
	<br>
	<div class="tabla" id="tabladiv"></div>
	<br>
	<div class="codigoBB" id="codigoBB"></div>
</body>
</html>


<script type="text/javascript">
	function genera_tabla() {
		  // Obtener la referencia del elemento body
		  var body = document.getElementsByTagName("body")[0];
		  var btnRea=document.getElementById("btnRealizar");
		  var tabladiv= document.getElementById("tabladiv");
		 
		  // Crea un elemento <table> y un elemento <tbody>
		  var tabla   = document.createElement("table");
		  var tblBody = document.createElement("tbody");
		  var contador = 0;
		  // Crea las celdas
		  for (var i = 0; i < document.getElementById("filas").value; i++) {
		    // Crea las hileras de la tabla
		    var hilera = document.createElement("tr");
		 
		    for (var j = 0; j < document.getElementById("columnas").value; j++) {
		      // Crea un elemento <td> y un nodo de texto, haz que el nodo de
		      // texto sea el contenido de <td>, ubica el elemento <td> al final
		      // de la hilera de la tabla
		      var celda = document.createElement("td");
		      var textoCelda = document.createElement("input");
		      var ids= "textocelda"+contador;
		      textoCelda.id=ids;
		      celda.appendChild(textoCelda);
		      hilera.appendChild(celda);
		      contador++;
		    }
		 
		    // agrega la hilera al final de la tabla (al final del elemento tblbody)
		    tblBody.appendChild(hilera);
		  }
		   tabla.id="tabla";
		  // posiciona el <tbody> debajo del elemento <table>
		  tabla.appendChild(tblBody);
		  tabladiv.appendChild(tabla);
		  var br=document.createElement("br");
		  var boton = document.createElement("button");
		  boton.type = "button";
		  boton.innerHTML = "OK";
		  boton.id="btnOK";
		  if (boton.addEventListener) {
    			boton.addEventListener('click', recoger, false);
			} else {
   				boton.attachEvent('onclick', recoger);
			}
	 

		  tabladiv.appendChild(br);
		  tabladiv.appendChild(boton);
		  btnRea.disabled=true;



		  // appends <table> into <body>
		  body.appendChild(tabladiv);

		  // modifica el atributo "border" de la tabla y lo fija a "2";
		  tabla.setAttribute("border", "2");
	}

	function recoger() {
		var body = document.getElementsByTagName("body")[0];
		var div = document.getElementById("codigoBB");
		var btnOK=document.getElementById("btnOK");
		var tabla2 = document.getElementById("tabla");
        var tdsTabla2 = tabla2.getElementsByTagName("td");
		var i =0;
		var textTabla="";
		var textarray=[];
		var cont=0;
		for (i=0; i<tdsTabla2.length; i++){
			//text =+ document.getElementById("textocelda"+i).value;
			textarray[i]=document.getElementById("textocelda"+i).value;
		}
		
		 textTabla+="[table]";
		 textTabla+="<br>";
		 var cuerpo = document.createElement("div");
	
		 for (var i = 0; i < document.getElementById("filas").value; i++) {
	
		    for (var j = 0; j < document.getElementById("columnas").value; j++) {
		  		
		  		if(i==0){
		  			if(j==0){
		  				textTabla+="[**]"+textarray[cont];
		  				cont++;
		  			}else{
		  				textTabla+="[||]"+textarray[cont];
		  				cont++;
		  			}

		  		}else{
		  			if(j==0){
		  				textTabla+="[*]"+textarray[cont];
		  				cont++;
		  			}else{
		  				textTabla+="[|]"+textarray[cont];
		  				cont++;
		  			}
		  		}
		  		

		    }
		   
		    if(i==0){
		    	textTabla+="[/**]";
		    }
		    textTabla+="<br>";
		}
		textTabla+="\n[/table]";
		cuerpo.innerHTML=textTabla;
		var br=document.createElement("br");
		body.appendChild(br);
		div.appendChild(cuerpo);
		body.appendChild(div);
		btnOK.disabled=true;


	}


	function reset(){
		location.reload(true);
	}


</script>
<style type="text/css">
.botones1{

}
.body{
	margin: 2%;
}
.form{

}
.btnRealizar{
	font-size: large;
	color: white;
	background: black;
}
#tabla{
	margin-left: 10%;
}
.fil{
	font: menu;
	font-size: larger;
}
.colm{
	font: menu;
	font-size: larger;
}
.codigoBB{
	margin-left: 10%;

}
#btnOK{
	font-size: large;
	color: white;
	background: black;
}
.titulo{
	text-align: center;
	border-bottom: solid;
}

</style>
